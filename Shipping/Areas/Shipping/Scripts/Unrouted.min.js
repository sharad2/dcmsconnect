$(function(){$.widget("ui.selectable",$.ui.selectable,{_mouseStart:function(n){n.ctrlKey=!0;this._super(n)},_mouseDrag:function(n){n.ctrlKey=!0;this._super(n)},_mouseStop:function(n){n.ctrlKey=!0;this._super(n)},_trigger:function(n,t,i){n=="selecting"&&$(i.selecting).addClass("ui-selected");this._super(n,t,i)}})});$(document).ready(function(){function t(){var n=$("tr.ui-selected");$("span.spnPOSelected").text("Total : "+n.length+" POs selected")}var n="tr";$("#pogroups tbody").selectable({filter:n,cancel:"a, input:checkbox, td[rowspan]",stop:function(){$(n,this).each(function(){$("input:checkbox",this).prop("checked",$(this).is(".ui-selected"))});t()}}).on("click","td.dc",function(){var t=$(this).closest(n),i=t.hasClass("ui-selected");t.nextAll().andSelf().slice(0,$(this).attr("rowspan")).toggleClass("ui-selected",!i).find("input:checkbox").prop("checked",!i)}).tooltip({content:function(){return $(this).next().html()},items:"span.ui-icon.ui-icon-alert"});$("#pogroups thead").on("change","input:checkbox",function(){$(this).closest("table").find("tbody input:checkbox").prop("checked",$(this).is(":checked")).closest(n).toggleClass("ui-selected",$(this).is(":checked"));t()});$("#cbShowUnavailableBucket").change(function(){$("#frmShowUnavailableBucket").submit()});$("#tbAtsDate").datepicker({showOn:"button",buttonImage:$("#tbAtsDate").attr("data-calendar-img"),buttonImageOnly:!0,dateFormat:"m/d/yy",onSelect:function(){$(this).focus()},numberOfMonths:2,beforeShowDay:function(n){var i=null,t;return $.each(_atsDates,function(t,r){if(r.date==n.getFullYear()*1e4+(n.getMonth()+1)*100+n.getDate())return i=r,!1}),t="",(n.getDay()==0||n.getDay()==6)&&(t="weekend-day"),i?[!0,t+" ui-selected","This ATS date has "+i.count.toString()+" POs for routing"]:[!0,t]}});$("#quicklist").on("click",'a[href^="#"]',function(n){$("a",n.delegateTarget).removeClass("ui-state-highlight");$(this).addClass("ui-state-highlight");$("table caption").removeClass("ui-state-highlight");$("caption",$(this).attr("href")).addClass("ui-state-highlight")});$("#divAtsDate").dialog({dialogClass:"dlg-atsdate",resizable:!1,height:150,width:233,closeOnEscape:!1,position:{my:"right center",at:"right-20% center+10%"},open:function(){$(".ui-dialog-titlebar-close").hide()},buttons:[{text:"Assign",id:"btnAssign",click:function(){var n=$("#frmAtsDate"),t=$("table tbody input:checkbox:checked");if($("#cbElectronicEdi").is(":checked")&&$("#cbElectronicEdi").val(!0),t.length==0){alert("Please select POs to route.");return}t.appendTo(n);n.submit()}}]})});